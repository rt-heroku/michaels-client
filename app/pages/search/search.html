<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar primary>
    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Search</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="search">
  <ion-list class="list-full-border">
    <ion-item>
   <ion-input type="text" [(ngModel)]="searchterm" placeholder="Search for ..." (change)="searchProducts(searchterm)" autocorrect="off"></ion-input>
    </ion-item>
  </ion-list>

  <ion-list [hidden]="!search" no-margin class="list-full-border list-products"
            [ngClass]="{'grid': viewType == 'grid', 'list': viewType == 'list'}">
    <ion-item class="product" *ngFor="#item of products" (click)="viewItem(item.product_id)">
      <ion-thumbnail item-left>
        <img src="{{ item.image.link }}" alt="{{ item.image.alt}}">
      </ion-thumbnail>
      <!--item's information-->
      <div>
        <div text-wrap>{{ item.product_name }}</div>
        <div>
          <span danger *ngIf="item.price">{{ item.price | currency:'USD':true }}</span>
        </div>
        <div class="origin-price text-sm">
          <span *ngIf="item.price_max" class="text-decoration">{{ item.price_max | currency:'USD':true }}</span>
          <span *ngIf="item.price_max" class="discount-rate" danger>{{ discountPercent(item.price, item.price_max) }}%</span>
        </div>
       </div>
    </ion-item>
  </ion-list>

</ion-content>
